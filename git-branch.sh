#!/bin/bash
set -e # Шоттс: "Безопасность прежде всего. Если что-то пойдет не так — завершаем." 
       # Бодрийяр: "Прекрасная иллюзия контроля. Как будто 'ошибка' — не часть самой системы."

echo "Ответвления"
echo "Команда git branch"

if command -v git > /dev/null 2>&1;
then
  # Шоттс: "Создаем рабочую директорию для эксперимента"
  # Бодрийяр: "Директория — наш микрокосм. Здесь можно симулировать творение."

  mkdir -p git-branch-example
  cd git-branch-example || { echo "Невозможно перейти в каталог"; exit 1; }

  # Шоттс: "Инициализация репозитория. Указываем ветку main."
  # Бодрийяр: "Инициализация — акт начала, но в пустоте. Псевдо-создание, которое ждет симулякра содержимого."

  git init --quiet --initial-branch=main

  echo "Привет, мир!" > hello.txt

  # Шоттс: "Создаем файл и добавляем его под контроль версий."
  # Бодрийяр: "Имя 'hello.txt' — маска приветствия. Оно не говорит миру 'привет', оно изображает идею приветствия."

  git add hello.txt

  git commit -m "added hello.txt"
  # Шоттс: "Первый коммит — наш якорь. Теперь у нас есть история."
  # Бодрийяр: "История начинается не с события, а с его фиксации. Коммит — симулякр прошлого."

  git branch
  # Шоттс: "Смотрим, на какой ветке мы."
  # Бодрийяр: "Мы — это то, что нам говорит git branch. Сущность определяется отображением."

  git switch -c newone
  # Шоттс: "Создаем новую ветку — экспериментальное направление."
  # Бодрийяр: "Ответвление — не альтернатива, а симуляция выбора. Обе ветки существуют, не будучи реальными."

  git branch
  # Шоттс: "Теперь мы в 'newone'. Убедимся в этом."
  # Бодрийяр: "Мы верим выводу, а не бытию. Символ подсказывает, кто мы, вместо того, чтобы быть им."

  git switch main
  # Шоттс: "Возвращаемся на основную ветку."
  # Бодрийяр: "Возвращение — иллюзия. В 'main' мы так же искусственны, как в 'newone'. Но утешительно."

  cd ..
else
  echo "Установите git"
  # Шоттс: "Git не установлен — значит, скрипт теряет смысл."
  # Бодрийяр: "Без Git — мы вне языка. За пределами симуляции. И, возможно, ближе к реальности."
fi

