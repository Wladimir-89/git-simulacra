#!/bin/bash
set -e

# Шоттс: Инициализация — акт начала, точка отсчёта.
# Бодрийяр: Начало — иллюзия, за ней скрывается бесконечный цикл повторений.

echo "Инициализация"
echo "Команда git init"

if command -v git > /dev/null 2>&1;
then
  # Шоттс: Проверяем версию Git — свидетельство его зрелости.
  # Бодрийяр: Версия — лишь знак бренда в бесконечном потоке обновлений.

  echo "Git installed, version $(git --version)"

  # Шоттс: Создаем пространство для экспериментов.
  # Бодрийяр: Пространство пусто, но манит к наполнению смыслом.

  mkdir -p git-init-example
  cd git-init-example || { echo "Невозможно перейти в каталог"; exit 1;}

  # Шоттс: Инициализируем репозиторий без лишних сообщений.
  # Бодрийяр: Тишина — не отсутствие звука, а знак внутреннего напряжения.

  git init --quiet

  # Шоттс: Создаем файл, посылаем первое приветствие миру.
  # Бодрийяр: Привет — обращение к пустоте, к миру без ответа.

  echo "Привет, мир!" > example.txt

  # Шоттс: Добавляем файл под контроль версий.
  # Бодрийяр: Добавление — фиксация мгновения в бесконечном потоке изменений.

  git add example.txt

  # Шоттс: Проверяем статус — видим свои шаги.
  # Бодрийяр: Статус — зеркало, показывающее лишь отражение, не суть.

  git status

  # Шоттс: Совершаем первый коммит — оставляем отпечаток.
  # Бодрийяр: Отпечаток исчезнет в тени времени, но будет зафиксирован как символ.

  git commit -m "added example.txt"

  # Шоттс: Краткий журнал коммитов — хронология твоих действий.
  # Бодрийяр: Хронология — нарратив, рассказанный с предвзятостью.

  git log --oneline

  cd ..
else
  # Шоттс: Git не установлен — время исправлять.
  # Бодрийяр: Петушок — не более чем символ пробуждения. Проснись.

  echo "Git установи, петушок!"
fi


