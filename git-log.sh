#!/bin/bash
set -e

# Шоттс: История — хроника действий, записанных в коде.
# Бодрийяр: Хроника — симулякр прошлого, отражение, а не сама суть.

echo "История"
echo "Команда git log"

if command -v git > /dev/null 2>&1;
then
  # Шоттс: Проверяем версию Git — подтверждение инструмента.
  # Бодрийяр: Версия — лишь знак бренда среди множества других.

  echo "Git installed, version $(git --version)"

  # Шоттс: Создаем рабочее пространство для фиксации истории.
  # Бодрийяр: Пустое пространство, ожидающее заполнения знаками.

  mkdir -p git-log-example
  cd git-log-example || { echo "Невозможно перейти в каталог"; exit 1; }

  # Шоттс: Инициализируем репозиторий без лишних слов.
  # Бодрийяр: Молчание перед записью — знак ожидания.

  git init --quiet

  # Шоттс: Создаем файл — первый жест в хронике.
  # Бодрийяр: "Привет, мир!" — сообщение в бутылке времени.

  echo "Привет, мир!" > example.txt

  # Шоттс: Добавляем файл в индекс.
  # Бодрийяр: Индексация — попытка приручить хаос.

  git add example.txt

  # Шоттс: Фиксируем момент — создаём запись.
  # Бодрийяр: Запись — лишь образ, не событие.

  git commit -m "example.txt added"

  # Шоттс: Выводим краткий журнал — обзор пути.
  # Бодрийяр: Путь, рассказанный через призму памяти и интерпретаций.

  git log --oneline

  cd ..
else
  # Шоттс: Git не найден — приглашение к установке.
  # Бодрийяр: Отсутствие — окно возможностей для нового начала.

  echo "Установите git"
fi


